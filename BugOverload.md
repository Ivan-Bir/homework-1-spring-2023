# Домашнее задание по курсу "Обеспечение качества ПО" проекта VK Образование
## Команда: **BugOverload**

## Содержание

1. [Деплой](#деплой)
2. [Задание](#задание)
3. [Ручное тестирование](#ручное-тестирование)

## Задание
Требуется провести командное тестирование основного функциоанала сервиса MovieGate.

Должны быть протестированы как функциональные так и нефункциональные характеристики.

## Деплой
[MovieGate](https://movie-gate.online/)

# Ручное тестирование
Основные блоки для тестирования:
* [↓](#авторизация-и-регистрация) Авторизация и регистрация с валидацией
* [↓](#...) Страница пользователя и действия по обновлению профиля
* [↓](#навигация-по-сервису) Навигация по сервису
* [↓](#страница-фильма) Страница фильма (оценка, рецензия, информация, трейлер)
* [↓](#деплой) Страница персоны (информация, список фильмов, фотографии)
* [↓](#поиск) Поиск фильмов, персон
* [↓](#главная-страница) Главная (Подборки, Жанры, прокрутка)
* [↓](#деплой) Коллекции (добавление фильма, удаление фильма, шеринг, public/private)
* [↓](#премьеры-и-уведомления) Премьеры и уведомления


## Авторизация и регистрация
### Примеры доступны по ссылке:
[Регистрация](https://movie-gate.online/signup/)

[Авторизация](https://movie-gate.online/login/)

### Тестирование
...

## Навигация по сервису

### Панель навигации
### Примеры доступны по ссылке:
[Основная страница](https://movie-gate.online/)

Панель навигации присутствует на всех страницах

### Тестирование
_Положительные кейсы:_
1. При нажатии на логотип происходит переход на главную страницу сайта. URL в адресной строке меняется на _movie-gate.online_
2. При нажатии на кнопку "Популярное" происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/collection/tag-popular/_ 
3. При нажатии на кнопку "Премьеры" происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/premieres/_
4. Если пользователь авторизован, при нажатии на кнопку "Коллекции" происходит переход на страницу с коллекциями пользователя. URL в адресной строке меняется на _movie-gate.online/user/collections/_
5. Если пользователь авторизован, в конце панели навигации будет отображаться область профиля пользователя  
   ![user-profile-area](https://user-images.githubusercontent.com/30394005/222218871-1bc0ba7b-74ce-4c18-a5ee-4a19a5d68663.png)
6. При наведении на область профиля, должно возникать выпадающее меню и выделяться активная область  
   ![user-profile-buttons](https://user-images.githubusercontent.com/30394005/222219263-f52af34c-4ad4-423e-97bf-d755414c676c.png)
7. Если передвинуть курсор за пределы выделенной области, выпадающее меню должно исчезнуть
8. При нажатии на кнопку "Профиль" в выпадающем меню, происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/profile/_
9. При нажатии на кнопку "Коллекции" в выпадающем меню, происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/user/collections/_ 
10. При нажатии на кнопку "Премьеры" в выпадающем меню, происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/premieres/_
11. При нажатии на кнопку "Выйти" в выпадающем меню, происходит выход из учетной записи и область профиля заменяется на кнопку "Войти". Не должно происходить никаких переходов и изменения URL в адресной строке

_Негативные кейсы:_
1. Если пользователь неавторизован, при нажатии на кнопку "Коллекции" возникает модальное окно авторизации. URL в адресной строке изменится на _movie-gate.online/login/_ 
2. Если пользователь неавторизован, в конце панели навигации будет отображаться кнопка "Войти"

_Время на тест: 3 мин._

### Главная страница
### Примеры доступны по ссылке:
[Главная страница](https://movie-gate.online/)

### Тестирование
_Положительные кейсы:_
1. На главной странице должны располагаться основные блоки: панель навигации, рекомендованный фильм (выбирается случайным образом), разделы "Популярное", "Сейчас в кино" и "Жанры"
2. Рекомендованный фильм должен включать в себя: постер, название фильма, краткое описание и кнопку "Перейти". На текущий момент (06.03.2022) рекомендованных фильмов всего 4: "Дюна", "Звездные войны. Эпизод IV: Новая надежда", "Джокер", "2001: Космическая одиссея"
3. При нажатии на кнопку "Перейти" происходит переход на соответствующую страницу фильма. URL в адресной строке меняется на _movie-gate.online/film/{id}/_
4. Каждый раздел включает в себя: кликабельное название и слайдер с элементами (фильмы, сериалы, жанры)
5. Если элементов в слайдере много, должны быть видны кнопки пролистывания:
   ![main-page-slider](https://user-images.githubusercontent.com/30394005/223113884-a1424306-0460-4919-a51f-4921a290637f.png)
6. При нажатии на любой из фильмов/сериалов в слайдере, происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/film/{id}/_
7. При нажатии на любой из жанров в слайдере, происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/collection/{genre}/_
8. При нажатии на "Популярное" происходит переход на соответствующую страницу, URL в адресной строке меняется на _movie-gate.online/collection/tag-popular/_
9. При нажатии на "Сейчас в кино" происходит переход на соответствующую страницу, URL в адресной строке меняется на _movie-gate.online/collection/tag-in_cinema/_
10. При нажатии на "Жанры" происходит переход на соответствующую страницу. URL в адресной строке меняется на _movie-gate.online/collection/genres/_

_Негативные кейсы:_
1. Если у пользователя слабое интернет-соединение, сначала должны появится все элементы страницы, но без картинок. Картинки подгружаются в последнюю очередь
2. Если backend приложения не функционирует, должна отображаться "болванка":
   ![empty-main-page](https://user-images.githubusercontent.com/30394005/223117953-0f3d785d-4292-42ac-88b7-6b17a5e4dafb.png)

_Время на тест: 3 мин._

## Страница фильма
### Примеры доступны по ссылке:
[Страница фильма](https://movie-gate.online/film/1/)

### Тестирование

#### **Общая информация о фильме**

_Положительные кейсы_:

1. Все тексты не содержат орфографических ошибок
2. Отображается как минимум _название_, _оригинальное название_, _рейтинг_, _год выпуска_, _возрастное ограничение_, _описание_, _режиссёр_, _актёры_
3. Цвет подложки с числом рейтинга соответствует диапазонам: [0..5.19] - красная, [5.2..7.49] - серая, [7.5..10] - зелёная
4. При нажатии на имя _режиссёра_, или _актёра_ должен произойте переход на страницу персоны вида _movie-gate.online/person/:id/_

_Негативные кейсы_:
1. Если пользователь неавторизован, то при попытке нажать на кнопку с "закладкой" или "+", должен появиться красный тостер с сообщением о необходимости авторизации. Не должно появиться меню и не должен измениться цвет иконки

_Время на тест: 2 мин._

#### **Трейлер**
1. При нажатии на кнопку с трейлером должно появиться модальное окно с iframe на youtube.com. Окно не вылезает за границы экрана на всех платформах
2. Видео можно запустить, не переходя на источник
_**`BUG`**_: конкретно на https://movie-gate.online/film/1 неверно указана ссылка на видео трейлера
3. При открытом мод. окне, при нажатии на любую незанятую видео область должно произойти закрытие окна

_Время на тест: <1 мин._

#### **Оценка фильма**
_Положительные кейсы_:
1. Авторизованные пользователи могут поставить оценку от 1 до 10 включительно
2. Пользователь может изменять оценку неограниченное число раз
3. После поставки оценки должен появиться слева внизу зеленый тостер с сообщением об успехе действия
4. При наведении на звезду также выделяются предыдущие звёзды.
5. После поставки оценки должен увеличиться счётчик оценки на 1
6. При изменении оценки счетчик изменять значение не должен
7. После поставки оценки под иконками звёзд должен появиться блок с информацией об оценке (число звёзд, дата в формате дд.мм.гггг и кнопка удалить)
8. При измении оценки или при появлении новой, или удалении _может_ измениться число среднего рейтинга фильма (не изменится при большом кол-ве оценок)
9. При удалении оценки счётчик уменьшается на 1
10. При удалении пропадает блок с информацией пользователя
11. При удалении оценки выводится сообщение об успешном удалении
12. В зависимости от того, открыта страница фильма или сериала должна соответствовать надпить над блоком. "Как вам фильм?", если фильм, "Как вам сериал?", если открыт сериал
13. При наличии авторизации и нажатии на кнопку "Написать рецензию" появляется модальное окно рецензии

_Негативные кейсы_:
1. Если пользователь неавторизаован, то при попытке поставить оценку, должен появиться красный тостер с сообщением о необходимости авторизации. Оценка поставлена не будет
2. Если на фильме нет оценок, то счётчик выводит надпись "нет оценок"
3. При ошибке на сервере при отправке запроса на удаление, изменение, или добавление оценки будет выведено сообщение на красном фоне о неуспешном выполнении запроса

_Время на тест: 3 мин._

#### **Форма написания рецензии**
_Положительные кейсы_:
1. При нажатии вне области формы она закрывается. Введенные данные не сохраняются
_**`BUG`**_: Если начать выделение текста с зажатым курсором внутри формы и отпустить уже вне формы, то она закроется
2. Форма не велезает за края экрана на всех платформах
3. Сверху под именем пользователя отображается правильное число уже написанных рецензий. Отображается правильные аватар и никнейм
4. При нажатии на "Выберите тип рецензии" появляется список из трёх вариантов ("Положительная", "Нейтральная", "Отрицательная") с соответствующими иконками.
5. Выпадающий список закрывается повторным нажатием на выбор, либо при выборе определенного типа рецензии. Выбранный тип отображается в соответствующем поле.
6. Поле с типом рецензии можно изменить неограниченное число раз
7. В поле "Заголовок" и "Текст рецензии" можно вводить текст
8. После успешной публикации модальное окно закрывается. Обновляется счетчик написанных рецензий (можно проверить в форме). Появляется зеленый тостер с сообщением об успехе
9. После успешной публикации рецензия появляется в общем списке рецензий сверху как самая новая
_**`BUG`**_: На данный момент рецензии не отправляются ввиду 500-й ошибки: "sql error"

_Негативные кейсы_:
1. При отсутствии данных в любом из полей будет выведена ошибка под пустым полем с красной обводкой, с текстом того, что требуется сделать.
2. При вводе данных в поле, помеченное как поле с ошибкой, красная обводка и текст ошибки исчезнут.

_Время на тест: 3 мин._

#### **Меню переключения "Описание-Подробности"**
1. Есть выделение желтым неактивного блока при наведении
2. При нажатии на неактивный блок происходит изменение активного на текущий Название подчёркивается линией
3. При смене блока предыдущий полностью стирается

_Время на тест: <1 мин._

#### **Информация о фильме**
_Положительные кейсы_:
1. Содержится 2 общих блока: "О фильме"(либо "О сериале") и "В главных ролях"
2. Общая информация не содержит фактических ошибок
_**`BUG`**_: на https://movie-gate.online/film/1 число в поле "Бюджет" содержит лишний 0 в начале
3. Под названием блока "В главных ролях" отображается число актеров, совпадающее с числом нижеперечисленных персон
4. В конце блока с актерами указано общее число актеров (не главных) _**`BUG`**_: Если в базе не содержится информации об общем числе актеров выводится число 0
5. При нажатии на фото персоны происходит переход на страницу персоны

_Время на тест: <1 мин._

#### **Похожие фильмы и сериалы**
1. При нажатии на заголовок происходит переход на страницу с "Похожими фильмами и сериалами" вида movie-gate.online/collection/film:id/
2. Слайдер позволяет прокручивать фильмы (Аналогично Главной странице [↓](#главная-страница))

_Время на тест: <1 мин._

#### **Рецензии к фильму**
_Положительные кейсы_:
1. Цвет фона рецензии соответствует типу рецензии (Зел. - положит., кр - негатив., сер - нейтр.)
2. Количество всех рецензий к фильму равно сумме отдельных типов
3. Кнопка "+" работает аналогично кнопке под рейтингом
4. При публикации инкрементируются соответствующие счётчики
5. При скролле страницы и прокрутке до последней рецензии, подгружаются новые рецензии с сервера
_Негативные кейсы_:
1. Если рецензий нет, то ниже будет сообщение: "Здесь пока нет рецензий. Станьте первым!"
2. При публикации это сообщение пропадает без обновления страницы

_Время на тест: 3 мин._


## Поиск
### Примеры доступны по ссылке:
[Результат поиска](https://movie-gate.online/search/q-%D0%B0)

### Тестирование

#### **Поисковая строка**

_Положительные кейсы_:

1. При установлении курсора в поле ввода иконка лупы меняет свой цвет на жёлтый. Обратно меняет на белый при потере фокуса
2. При вводе запроса и нажатии Enter происходит переход на страницу вида movie-gate.online/search/q-:text
3. Поиск не чувствителен к регистру
4. Поиск будет успешен, если запрос содержится как подстрока внутри названия сущности
5. Результаты поиска группируются по категориям: фильмы - "Найденные фильмы", сериалы - "Найденные сериалы", персоны - "Найденные имена"
6. При нажатии на картинку любой найденной сущности проиходит переход на соответствующую страницу

_Негативные кейсы_:
1. При отсутствии в результате какой-либо из категорий, то она не будет отображена
2. В случае полного отсутствия результатов будет выведено сообщение: "По вашему запросу ничего не нашлось :(". Ниже будет отображена кнопка "Перейти на главную". На нажатии на кнопку происходит переход на главную страницу (https://movie-gate.online/)

_Время на тест: 4 мин._

## Премьеры и уведомления
### Примеры уведомлений доступны по ссылке:
[Основная страница](https://movie-gate.online/)

### Тестирование
_Положительные кейсы:_
1. При авторизации пользователя на сайте, спустя 30 секунд в правом нижнем углу начинают появляться уведомления с предстоящими фильмами
2. Если после авторизации пользователь не обновляет страницу (F5 или кнопкой в браузере), должно появиться ровно 5 уведомлений с интервалом в 30 секунд. Отображаются стопкой, друг над другом.  
**`BUG`** если высота экрана < 1000px, уведомления обрезаются, уходя за границу экрана  
   ![notification-bug-small-display](https://user-images.githubusercontent.com/30394005/222214286-009cf460-c6bb-4aa0-bfc4-4cff6b179a2f.png)
3. Если пользователь переключился на другую вкладку, уведомления будут демонстрироваться браузером
   ![notify-another-tab](https://user-images.githubusercontent.com/30394005/223101197-c4014487-95e5-47d8-9d27-ef81730d0e0e.png)
4. Каждое уведомление должно содержать в себе рейтинг фильма/сериала, название, дату выхода, кнопку "купить билет" и кнопку закрытия
5. При нажатии на кнопку закрытия, уведомление пропадает
6. При нажатии на кнопку "Купить билет" открывается новая вкладка с Яндекс Афишей, где открыт данный фильм/сериал
7. При переходе на другую страницу, все уведомления пропадают

_Негативные кейсы:_
1. Если пользователь неавторизован, то он не увидит уведомлений
2. Если пользователь авторизован, но запретил слать уведомления сайту, то он не увидит уведомлений 
3. Если авторизованный пользователь обновляет страницу, то уведомления больше не приходят до 00:00 по МСК.

_Время на тест: 3 мин._

### Примеры премьер доступны по ссылке:
[Премьеры](https://movie-gate.online/premieres/)

### Тестирование
_Положительные кейсы:_
1. При открытии страницы должен появиться список фильмов/сериалов с датой выхода больше текущей, упорядоченные по дате выхода  
   ![example-of-premieres](https://user-images.githubusercontent.com/30394005/222216087-f10b6ee9-de80-4454-95a8-b275826f6139.png)
2. Если в один день выходит несколько фильмов/сериалов, они должны располагаться в виде сетки из 2 столбцов
3. У каждого фильма должны присутствовать: постер, название, краткое описание, рейтинг, кнопка "Купить билет"
4. В подписи "Осталось Х дней" для каждой даты должно корректно отображаться окончание в слове "дней": "2 дня", "5 дней", "21 день" и т.д.

_Время на тест: 1 мин._
